{% extends 'blog/base.html' %} {% block content %}

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="d-flex">
        <h1 class="text-center">Post query ________</h1>
      </div>

      <ul class="nav nav-tabs py-4" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="tab1-tab" data-bs-toggle="tab" data-bs-target="#tab1" type="button" role="tab" aria-controls="tab1" aria-selected="true">Els últims</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="tab2-tab" data-bs-toggle="tab" data-bs-target="#tab2" type="button" role="tab" aria-controls="tab2" aria-selected="false">Els millors</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="tab3-tab" data-bs-toggle="tab" data-bs-target="#tab3" type="button" role="tab" aria-controls="tab3" aria-selected="false">Els pitjors</button>
        </li>
      </ul>

      <div class="tab-content" id="myTabContent">
        
        <!--tab últims 5 dies-->
        <div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
          <div class="py-4">
            <table class="table">
              <tr>
                <th>#</th>
                <th>Post</th>
                <th>Data</th>
                <th>Nota</th>
                <th>Stars</th>
              </tr>
              {% for post in cinc %}
              <tr>
                <td>{{forloop.counter}}</td>
                <td>
                  <a href="{% url 'post_detail' post.id %}">
                  {{ post.title }}
                  </a>
                </td>
                <td>{{ post.created_date }}</td>
                <td>{{ post.valoracio_mitja }}</td>
                <td>
                  <!-- fa cadena ajustant x als caràcters de 'valor' -->
                  <!-- així farà loop de caràcters cadena-->
                  {% for i in "x"|ljust:post.valoracio_mitja %}
                  <i class="fas fa-star text-warning"></i>
                  {% endfor %}
                </td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>

        <!--tab millors 3 o 4 estrelles-->
        <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
          <div class="py-4">
            <table class="table">
              <tr>
                <th>#</th>
                <th>Post</th>
                <th>Data</th>
                <th>Nota</th>
                <th>Stars</th>
              </tr>
              {% for post in millors %}
              <tr>
                <td>{{forloop.counter}}</td>
                <td>
                  <a href="{% url 'post_detail' post.id %}">
                  {{ post.title }}
                  </a>
                </td>
                <td>{{ post.created_date }}</td>
                <td>{{ post.valoracio_mitja }}</td>
                <td>
                  <!-- fa cadena ajustant x als caràcters de 'valor' -->
                  <!-- així farà loop de caràcters cadena-->
                  {% for i in "x"|ljust:post.valoracio_mitja %}
                  <i class="fas fa-star text-warning"></i>
                  {% endfor %}
                </td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>

        <!--tab pitjors 1 o 2 estrelles-->
        <div class="tab-pane fade" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
          <div class="py-4">
            <table class="table">
              <tr>
                <th>#</th>
                <th>Post</th>
                <th>Data</th>
                <th>Nota</th>
                <th>Stars</th>
              </tr>
              {% for post in pitjors %}
              <tr>
                <td>{{forloop.counter}}</td>
                <td>
                  <a href="{% url 'post_detail' post.id %}">
                  {{ post.title }}
                  </a>
                </td>
                <td>{{ post.created_date }}</td>
                <td>{{ post.valoracio_mitja }}</td>
                <td>
                  <!-- fa cadena ajustant x als caràcters de 'valor' -->
                  <!-- així farà loop de caràcters cadena-->
                  {% for i in "x"|ljust:post.valoracio_mitja %}
                  <i class="fas fa-star text-warning"></i>
                  {% endfor %}
                </td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>
      </div>

    </div>
  </div>

  {% endblock %}
</div>
